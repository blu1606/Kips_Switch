# 12.1 Recipient Onboarding Journey

> **Goal:** Non-crypto user can claim vault without friction  
> **Priority:** P0 (Hackathon critical)  
> **Key Insight:** Password Mode is REQUIRED for non-crypto recipients

---

## âš ï¸ The Key Exchange Paradox

```
Problem:
  Wallet Mode encrypts with Recipient's Public Key
  BUT: Grandma has NO wallet at vault creation time
  â†’ Embedded wallet created at CLAIM time = DIFFERENT keypair
  â†’ CANNOT decrypt!

Solution:
  Non-crypto recipient = Password Mode ONLY
  Embedded wallet only needed for claiming TOKENS (not files)
```

---

## ğŸ¯ User Psychology

| Pain | Thought | Our Solution |
|------|---------|--------------|
| "Crypto lÃ  gÃ¬?" | Confused | No blockchain jargon |
| "Password?" | Can I remember? | AI Hint helps |
| "Sá»£ scam" | Trust issue | Show sender's name/photo |
| "Äang buá»“n" | Grief state | Empathetic, warm UX |

---

## ğŸ“ The "Password-First Flow"

### Sender Side (Create)

```
Step 1: Select recipient type
        â—‹ Crypto user (has wallet) â†’ Wallet Mode
        â— Non-crypto user (email) â†’ Password Mode â† DEFAULT

Step 2: Enter password + hint
        Password: [LuLu1980_______]
        Hint: "TÃªn con chÃ³ Ä‘áº§u tiÃªn + nÄƒm cÆ°á»›i"
        
        [âœ¨ Generate hint with AI] â† Phase 9.2

Step 3: Enter recipient email
        Email notification will be sent when vault releases
```

### Recipient Side (Claim) - "The Grandma Moment"

```
Step 1: EMAIL RECEIVED
        "John has left something for you"
        [Open with love] button
                    â†“
Step 2: WEB PAGE (NO WALLET NEEDED!)
        - Check on-chain: isReleased == true? âœ…
        - Read-only RPC call, no wallet connect
                    â†“
Step 3: PASSWORD PROMPT
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ğŸ’¡ Hint from John:                  â”‚
        â”‚ "TÃªn con chÃ³ Ä‘áº§u tiÃªn + nÄƒm cÆ°á»›i"   â”‚
        â”‚                                     â”‚
        â”‚ Enter password: [______________]    â”‚
        â”‚                                     â”‚
        â”‚ [Unlock] ğŸ”“                         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
Step 4: DECRYPT (Client-side)
        - PBKDF2(password) â†’ AES Key
        - Decrypt content locally
        - NO server involvement
                    â†“
Step 5: CINEMATIC REVEAL ğŸ¬
        - Ghost Kip appears
        - "John asked me to guard this for you..."
        - Content displays
                    â†“
Step 6: OPTIONAL - CLAIM TOKENS
        IF vault contains SOL/tokens:
          â†’ "There are also tokens for you"
          â†’ "Create wallet to receive" (Privy/Dynamic)
          â†’ Gasless claim (11.2)
        
        IF only files/messages:
          â†’ Done! No wallet needed. 10/10 experience.
```

---

## ğŸ”§ Technical Requirements

| Requirement | Solution | Status |
|-------------|----------|--------|
| Password encryption | PBKDF2 â†’ AES-256-GCM | âœ… Already have |
| Read-only chain check | RPC call, no wallet | âœ… Easy |
| AI Password Hint | Phase 9.2 | ğŸ“ Planned |
| Gasless token claim | Phase 11.2 | ğŸ“ Planned |
| Embedded wallet | Privy (only for tokens) | âš ï¸ Optional |

---

## ğŸ¨ UI Principles

### Password Hint = CRITICAL UX
```
Make it:
- Large, prominent on claim page
- Styled as "message from sender"
- Include sender's name for trust
```

### NO Blockchain Jargon
```
âŒ "Connect wallet to claim vault"
âœ… "Enter the password John gave you"

âŒ "Transaction pending..."
âœ… "Unlocking your message..."
```

---

## âœ… Execution Checklist

### Hackathon (P0)
- [ ] Update create wizard: Default to Password Mode for email recipients
- [ ] Redesign claim page: Password-first, no wallet required
- [ ] Make Password Hint prominent in UI
- [ ] Integrate with Phase 9.2 AI Hint

### Post-Hackathon
- [ ] Add Privy for token claims only
- [ ] Implement gasless token transfer (11.2)
